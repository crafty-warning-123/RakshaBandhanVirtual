
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RC & RS Raksha Bandhan Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700;800&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(45deg, #ff9a9e, #fecfef, #fecfef, #ff9a9e);
      background-size: 400% 400%;
      animation: gradientShift 8s ease infinite;
      font-family: 'Baloo 2', cursive;
      margin: 0;
      overflow-x: hidden;
      position: relative;
    }

    @keyframes gradientShift {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    .container {
      padding: 2rem;
      max-width: 1200px;
      margin: auto;
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      margin-top: 2rem;
      position: relative;
      overflow: hidden;
    }

    .title {
      text-align: center;
      font-size: 2.5rem;
      font-weight: 800;
      color: #e91e63;
      text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
      animation: dramaticZoom 2s ease-out;
      margin-bottom: 1rem;
    }

    @keyframes dramaticZoom {
      0% {
        transform: scale(0.3) rotate(-10deg);
        opacity: 0;
      }

      50% {
        transform: scale(1.2) rotate(5deg);
      }

      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    .subtitle {
      text-align: center;
      font-size: 1.3rem;
      color: #ff5722;
      font-weight: 700;
      animation: slideInFromBottom 2s ease-out 0.5s both;
      margin-bottom: 2rem;
    }

    @keyframes slideInFromBottom {
      0% {
        transform: translateY(50px);
        opacity: 0;
      }

      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .question {
      display: none;
      animation: bounceIn 0.8s ease-out forwards;
      position: relative;
    }

    .question.active {
      display: block;
    }

    @keyframes bounceIn {
      0% {
        transform: scale(0.3) translateY(-100px);
        opacity: 0;
      }

      50% {
        transform: scale(1.1) translateY(10px);
      }

      100% {
        transform: scale(1) translateY(0);
        opacity: 1;
      }
    }

    .question h3 {
      font-size: 1.8rem;
      color: #8e24aa;
      text-align: center;
      margin-bottom: 1.5rem;
      position: relative;
    }

    .dual-input-container {
      display: flex;
      gap: 2rem;
      margin-bottom: 1.5rem;
    }

    .input-section {
      flex: 1;
      text-align: center;
    }

    .input-section h4 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      color: #8e24aa;
      font-weight: bold;
    }

    .rc-section h4 {
      color: #2196f3;
    }

    .rs-section h4 {
      color: #ff9800;
    }

    .input-section input {
      font-size: 1.2rem;
      padding: 1rem;
      border: 3px solid #ff4081;
      border-radius: 15px;
      background: linear-gradient(45deg, #fff, #fce4ec);
      transition: all 0.3s ease;
      width: 100%;
      box-sizing: border-box;
    }

    .rc-section input {
      border-color: #2196f3;
      background: linear-gradient(45deg, #fff, #e3f2fd);
    }

    .rs-section input {
      border-color: #ff9800;
      background: linear-gradient(45deg, #fff, #fff3e0);
    }

    .input-section input:focus {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(233, 30, 99, 0.3);
    }

    .rc-section input:focus {
      border-color: #1976d2;
      box-shadow: 0 0 20px rgba(33, 150, 243, 0.3);
    }

    .rs-section input:focus {
      border-color: #f57c00;
      box-shadow: 0 0 20px rgba(255, 152, 0, 0.3);
    }

    .next-btn {
      background: linear-gradient(45deg, #ff4081, #e91e63);
      color: white;
      font-weight: bold;
      padding: 1rem 2rem;
      border: none;
      border-radius: 25px;
      margin-top: 1.5rem;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .next-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 10px 25px rgba(233, 30, 99, 0.4);
    }

    .next-btn:before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .next-btn:hover:before {
      left: 100%;
    }

    .play-btn {
      background: linear-gradient(45deg, #ff9800, #f57c00);
      color: white;
      font-weight: bold;
      padding: 1.5rem 3rem;
      border: none;
      border-radius: 30px;
      margin-top: 2rem;
      font-size: 1.5rem;
      cursor: pointer;
      display: block;
      margin-left: auto;
      margin-right: auto;
      animation: pulse 2s infinite;
      box-shadow: 0 10px 30px rgba(245, 124, 0, 0.4);
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    .rakhi-choice {
      text-align: center;
      padding: 2rem;
    }

    .dual-rakhi-container {
      display: flex;
      gap: 3rem;
      justify-content: center;
      margin-top: 2rem;
    }

    .rakhi-section {
      flex: 1;
      text-align: center;
    }

    .rakhi-section h4 {
      font-size: 1.5rem;
      margin-bottom: 2rem;
      color: #8e24aa;
      font-weight: bold;
    }

    .rc-rakhi h4 {
      color: #2196f3;
    }

    .rs-rakhi h4 {
      color: #ff9800;
    }

    .rakhi-section img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin: 0.5rem;
      cursor: pointer;
      transition: all 0.5s ease;
      border: 4px solid transparent;
      position: relative;
    }

    .rakhi-section img:hover {
      transform: scale(1.3) rotate(360deg);
      border-color: #ff4081;
      box-shadow: 0 0 30px rgba(255, 64, 129, 0.6);
    }

    .feedback-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(45deg, #ffeb3b, #ffc107);
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      font-size: 1.3rem;
      font-weight: bold;
      color: #e65100;
      text-align: center;
      animation: popIn 0.5s ease-out;
      display: none;
      max-width: 400px;
    }

    @keyframes popIn {
      0% {
        transform: translate(-50%, -50%) scale(0.3);
        opacity: 0;
      }

      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #ff4081;
      animation: confettiFall 3s linear infinite;
    }

    @keyframes confettiFall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }

      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    .sparkle {
      position: absolute;
      width: 20px;
      height: 20px;
      background: radial-gradient(circle, #fff, #ff4081);
      border-radius: 50%;
      animation: sparkle 2s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes sparkle {

      0%,
      100% {
        opacity: 0;
        transform: scale(0);
      }

      50% {
        opacity: 1;
        transform: scale(1);
      }
    }

    #final-msg {
      display: none;
      font-size: 1.3rem;
      text-align: center;
      margin-top: 2rem;
      color: #4e342e;
      animation: heartBeat 2s ease-in-out infinite;
    }

    @keyframes heartBeat {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #ffcdd2;
      border-radius: 10px;
      margin: 1rem 0;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(45deg, #ff4081, #e91e63);
      border-radius: 10px;
      transition: width 0.8s ease;
      width: 0%;
    }

    .emoji-burst {
      position: absolute;
      font-size: 2rem;
      animation: emojiBurst 2s ease-out forwards;
      pointer-events: none;
    }

    @keyframes emojiBurst {
      0% {
        transform: scale(0) rotate(0deg);
        opacity: 1;
      }

      50% {
        transform: scale(1.5) rotate(180deg);
        opacity: 0.8;
      }

      100% {
        transform: scale(0.5) rotate(360deg);
        opacity: 0;
      }
    }

    .footer {
      text-align: center;
      margin-top: 3rem;
      font-style: italic;
      color: #8e24aa;
      font-size: 1.1rem;
      animation: glow 3s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 5px #ff4081;
      }

      to {
        text-shadow: 0 0 20px #ff4081, 0 0 30px #e91e63;
      }
    }

    .correct-feedback {
      background: linear-gradient(45deg, #4caf50, #66bb6a) !important;
      color: white !important;
    }

    .wrong-feedback {
      background: linear-gradient(45deg, #f44336, #ef5350) !important;
      color: white !important;
    }

    .reveal-section {
      margin-top: 2rem;
      padding: 2rem;
      background: linear-gradient(45deg, #e3f2fd, #f3e5f5);
      border-radius: 15px;
      border: 3px solid #9c27b0;
    }

    .reveal-btn {
      background: linear-gradient(45deg, #9c27b0, #673ab7);
      color: white;
      font-weight: bold;
      padding: 1rem 2rem;
      border: none;
      border-radius: 25px;
      margin: 1rem;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .reveal-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(156, 39, 176, 0.4);
    }

    .skip-btn {
      background: linear-gradient(45deg, #607d8b, #455a64);
      color: white;
      font-weight: bold;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 20px;
      margin: 1rem 0 0 1rem;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .skip-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 20px rgba(96, 125, 139, 0.4);
    }

    .answers-list {
      margin-top: 2rem;
      text-align: left;
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .answer-item {
      margin: 1rem 0;
      padding: 1rem;
      background: linear-gradient(45deg, #fff3e0, #fce4ec);
      border-radius: 10px;
      border-left: 4px solid #ff4081;
    }

    .answer-item h4 {
      color: #8e24aa;
      margin-bottom: 0.5rem;
    }

    .answer-item p {
      color: #5e35b1;
      font-weight: bold;
      margin: 0;
    }

    .dual-answers {
      display: flex;
      gap: 2rem;
    }

    .answer-section {
      flex: 1;
    }

    .rc-answers {
      border-left-color: #2196f3;
    }

    .rs-answers {
      border-left-color: #ff9800;
    }

    .final-result {
      display: flex;
      gap: 2rem;
      margin-top: 2rem;
    }

    .result-section {
      flex: 1;
      text-align: center;
    }

    .result-section h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .rc-result h3 {
      color: #2196f3;
    }

    .rs-result h3 {
      color: #ff9800;
    }

    .result-section img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 4px solid;
      margin: 1rem 0;
    }

    .rc-result img {
      border-color: #2196f3;
    }

    .rs-result img {
      border-color: #ff9800;
    }

    .tying-image {
      width: 250px !important;
      height: auto !important;
      border-radius: 15px !important;
      margin: 1rem 0 !important;
    }
  </style>
</head>

<body>
  <main class="container">
    <h1 class="title">üéâ RC & RS Raksha Bandhan Quiz üéâ</h1>
    <p class="subtitle">How well do you know RC and RS? Let's test your detective skills! ü§™</p>

    <button class="play-btn" onclick="startQuiz()">Start the Drama! üéâüé≠</button>

    <div id="quiz" style="display: none;">
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <p id="progress" style="text-align: center; font-weight: bold; color: #8e24aa;"></p>

      <div class="question" id="q1">
        <h3>üßÅ What is their favorite dessert?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a1" placeholder="Think hard about RC! ü§î">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a1" placeholder="Think hard about RS! ü§î">
          </div>
        </div>
        <button class="next-btn" onclick="next('q1','q2')">Next Challenge! ‚ú®</button>
        <button class="skip-btn" onclick="skipToNext('q1','q2')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q2">
        <h3>üìö What subject did they hate in school?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a2" placeholder="RC hated which subject? üò§">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a2" placeholder="RS hated which subject? üò§">
          </div>
        </div>
        <button class="next-btn" onclick="next('q2','q3')">Keep Going! üöÄ</button>
        <button class="skip-btn" onclick="skipToNext('q2','q3')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q3">
        <h3>üé¨ Which movie can they watch over and over?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a3" placeholder="RC's favorite movie! üé≠">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a3" placeholder="RS's favorite movie! üé≠">
          </div>
        </div>
        <button class="next-btn" onclick="next('q3','q4')">Next! üí´</button>
        <button class="skip-btn" onclick="skipToNext('q3','q4')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q4">
        <h3>üçï What's their go-to comfort food?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a4" placeholder="RC's comfort food? ü§§">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a4" placeholder="RS's comfort food? ü§§">
          </div>
        </div>
        <button class="next-btn" onclick="next('q4','q5')">Continue! ‚≠ê</button>
        <button class="skip-btn" onclick="skipToNext('q4','q5')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q5">
        <h3>üï∫üíÉ Their favorite actor or actress growing up was?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a5" placeholder="RC's favorite actor! üé§">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a5" placeholder="RS's favorite actor! üé§">
          </div>
        </div>
        <button class="next-btn" onclick="next('q5','q6')">Next! üé∂</button>
        <button class="skip-btn" onclick="skipToNext('q5','q6')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q6">
        <h3>üåà Their most used emoji is?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a6" placeholder="RC's favorite emoji! üß†">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a6" placeholder="RS's favorite emoji! üß†">
          </div>
        </div>
        <button class="next-btn" onclick="next('q6','q7')">Almost there! üîÆ</button>
        <button class="skip-btn" onclick="skipToNext('q6','q7')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q7">
        <h3>üèÉ‚Äç‚ôÄÔ∏è What's their secret talent?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a7" placeholder="RC's secret talent? ü§ê">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a7" placeholder="RS's secret talent? ü§ê">
          </div>
        </div>
        <button class="next-btn" onclick="next('q7','q8')">Keep going! üòé</button>
        <button class="skip-btn" onclick="skipToNext('q7','q8')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q8">
        <h3>üßò What do they do when stressed or sad?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a8" placeholder="RC's stress relief? ü§≠">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a8" placeholder="RS's stress relief? ü§≠">
          </div>
        </div>
        <button class="next-btn" onclick="next('q8','q9')">Almost done! üì∏</button>
        <button class="skip-btn" onclick="skipToNext('q8','q9')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q9">
        <h3>üéµ A song that always lifts their mood is?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a9" placeholder="RC's mood lifter! üéâ">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a9" placeholder="RS's mood lifter! üéâ">
          </div>
        </div>
        <button class="next-btn" onclick="next('q9','q10')">Last question! üéà</button>
        <button class="skip-btn" onclick="skipToNext('q9','q10')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="q10">
        <h3>‚ö° If they could teleport anywhere right now, where would they go?</h3>
        <div class="dual-input-container">
          <div class="input-section rc-section">
            <h4>RC's Answer</h4>
            <input type="text" id="rc_a10" placeholder="RC's dream destination! ü¶â">
          </div>
          <div class="input-section rs-section">
            <h4>RS's Answer</h4>
            <input type="text" id="rs_a10" placeholder="RS's dream destination! ü¶â">
          </div>
        </div>
        <button class="next-btn" onclick="next('q10','rakhi')">Final Challenge! üåô</button>
        <button class="skip-btn" onclick="skipToNext('q10','rakhi')">Skip to Next Question ‚û°Ô∏è</button>
        <button class="skip-btn" onclick="skipToEnd()">Skip to the end üöÄ</button>
      </div>

      <div class="question" id="rakhi">
        <h3>Choose Rakhis for RC and RS! üéÅ‚ú®</h3>
        <div class="dual-rakhi-container">
          <div class="rakhi-section rc-rakhi">
            <h4>Choose for RC</h4>
            <div>
              <img src="attached_assets/Rakhi1.webp" onclick="selectRakhi('rc', this, 'Rakhi1')" alt="Silver Rakhi with Rudraksha">
              <img src="attached_assets/Rakhi2.webp" onclick="selectRakhi('rc', this, 'Rakhi2')" alt="Golden Ganesha Rakhi">
              <img src="attached_assets/Rakhi3.webp" onclick="selectRakhi('rc', this, 'Rakhi3')" alt="Golden Lotus Rakhi">
            </div>
          </div>
          <div class="rakhi-section rs-rakhi">
            <h4>Choose for RS</h4>
            <div>
              <img src="attached_assets/Rakhi1.webp" onclick="selectRakhi('rs', this, 'Rakhi1')" alt="Silver Rakhi with Rudraksha">
              <img src="attached_assets/Rakhi2.webp" onclick="selectRakhi('rs', this, 'Rakhi2')" alt="Golden Ganesha Rakhi">
              <img src="attached_assets/Rakhi3.webp" onclick="selectRakhi('rs', this, 'Rakhi3')" alt="Golden Lotus Rakhi">
            </div>
          </div>
        </div>
        <div id="final-msg"></div>
      </div>

      <div class="question" id="final-slide">
        <!-- This will be filled dynamically with rakhi tying content -->
      </div>
      
    </div>
  </main>

  <footer class="footer">
    <p>üíõ Made with love, chaos, and way too much emotion üíõ</p>
  </footer>

  <div id="feedbackPopup" class="feedback-popup"></div>

  <script>
    const progress = document.getElementById('progress');
    const progressFill = document.getElementById('progressFill');
    const quiz = document.getElementById('quiz');
    const feedbackPopup = document.getElementById('feedbackPopup');

    const wrongFeedbacks = [
      "Really? That's your detective work? üïµÔ∏è‚Äç‚ôÇÔ∏èüòÇ",
      "Oh please! You clearly don't know them AT ALL! üôÑ‚ú®",
      "Seriously? Did you even TRY? ü§¶‚Äç‚ôÄÔ∏è",
      "Wrong! Try harder next time! üòí",
      "Nope! Better luck with the next question! üôÉ"
    ];

    const correctFeedbacks = [
      "Perfect! Bravo! You are more observant than I think! üëè‚ú®",
      "Wow! Good job! You actually know them! üòç",
      "Excellent detective work! You got it right! üïµÔ∏è‚Äç‚ôÇÔ∏èüéâ",
      "Amazing! You're paying attention! I'm impressed! üíØ",
      "Spot on! You really DO know them well! ‚ù§Ô∏è"
    ];

    // All possible correct answers for each question (RC: A1-A10, RS: B1-B10)
    const correctAnswers = {
      'q1': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q2': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q3': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q4': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q5': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q6': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q7': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q8': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q9': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      },
      'q10': {
        'rc': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10'],
        'rs': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10']
      }
    };

    const questionTexts = {
      'q1': 'üßÅ What is their favorite dessert?',
      'q2': 'üìö What subject did they hate in school?',
      'q3': 'üé¨ Which movie can they watch over and over?',
      'q4': 'üçï What\'s their go-to comfort food?',
      'q5': 'üï∫üíÉ Their favorite actor or actress growing up was?',
      'q6': 'üåà Their most used emoji is?',
      'q7': 'üèÉ‚Äç‚ôÄÔ∏è What\'s their secret talent?',
      'q8': 'üßò What do they do when stressed or sad?',
      'q9': 'üéµ A song that always lifts their mood is?',
      'q10': '‚ö° If they could teleport anywhere right now, where would they go?'
    };

    let selectedRakhis = {
      'rc': null,
      'rs': null
    };

    function startQuiz() {
      document.querySelector('.play-btn').style.display = 'none';
      quiz.style.display = 'block';
      createConfetti();
      showQuestion('q1', 1);
    }

    function showQuestion(id, num) {
      document.getElementById(id).classList.add('active');

      // Only show progress text for the first 10 questions
      if (id.startsWith('q')) {
        progress.innerText = `Question ${num} of 10 - You got this! üí™`;
        progressFill.style.width = `${(num/10) * 100}%`;
      } else {
        progress.innerText = '';
        progressFill.style.width = '100%';
      }

      // Add ta-da effect
      createEmojiBurst('üéâ', '‚ú®', 'üí•');
    }

    function next(currentId, nextId) {
      const rcAnswer = document.getElementById(`rc_${currentId.replace('q', 'a')}`).value.trim().toLowerCase();
      const rsAnswer = document.getElementById(`rs_${currentId.replace('q', 'a')}`).value.trim().toLowerCase();
      
      const rcPossibleAnswers = correctAnswers[currentId]['rc'];
      const rsPossibleAnswers = correctAnswers[currentId]['rs'];

      let feedback = '';
      let isCorrect = false;

      // Check RC answer
      const isRcCorrect = rcPossibleAnswers.some(correctAns =>
        rcAnswer.includes(correctAns.toLowerCase()) || correctAns.toLowerCase().includes(rcAnswer)
      );

      // Check RS answer
      const isRsCorrect = rsPossibleAnswers.some(correctAns =>
        rsAnswer.includes(correctAns.toLowerCase()) || correctAns.toLowerCase().includes(rsAnswer)
      );

      if (isRcCorrect && isRsCorrect) {
        feedback = "Amazing! You got both RC and RS right! üéâüéâ";
        isCorrect = true;
      } else if (isRcCorrect) {
        feedback = "Good job on RC! But RS answer needs work! üòäüòÖ";
        isCorrect = true;
      } else if (isRsCorrect) {
        feedback = "Good job on RS! But RC answer needs work! üòäüòÖ";
        isCorrect = true;
      } else {
        feedback = "Oops! Both answers need some detective work! üïµÔ∏è‚Äç‚ôÇÔ∏è";
        isCorrect = false;
      }

      showFeedback(feedback, isCorrect);

      setTimeout(() => {
        document.getElementById(currentId).classList.remove('active');
        if (nextId === 'rakhi') {
          showQuestion(nextId, 11);
        } else {
          let num = parseInt(nextId.replace('q', ''));
          showQuestion(nextId, num);
        }
      }, 2500);
    }

    function showFeedback(message, isCorrect) {
      feedbackPopup.innerHTML = message;
      feedbackPopup.className = isCorrect ? 'feedback-popup correct-feedback' : 'feedback-popup wrong-feedback';
      feedbackPopup.style.display = 'block';

      setTimeout(() => {
        feedbackPopup.style.display = 'none';
      }, 2500);
    }

    function selectRakhi(person, el, rakhiName) {
      selectedRakhis[person] = {
        element: el,
        name: rakhiName
      };

      // Visual feedback
      createSparkles(el);

      // Check if both rakhis are selected
      if (selectedRakhis.rc && selectedRakhis.rs) {
        setTimeout(() => {
          showFinalResult();
        }, 1000);
      }
    }

    function showFinalResult() {
      // Hide rakhi selection screen
      document.getElementById('rakhi').classList.remove('active');

      // Determine the tying images
      let rcTyingImage = `attached_assets/${selectedRakhis.rc.name}_tying.webp`;
      let rsTyingImage = `attached_assets/${selectedRakhis.rs.name}_tying.webp`;

      // Set the content inside the final slide
      const finalSlide = document.getElementById('final-slide');
      finalSlide.innerHTML = `
        <h2 style="text-align: center;">‚ù§Ô∏è Perfect Choices! They'll love these! ‚ù§Ô∏è</h2>
        <div class="final-result">
          <div class="result-section rc-result">
            <h3>RC's Rakhi</h3>
            <img src="${selectedRakhis.rc.element.src}" />
            <div>
              <img src="${rcTyingImage}" class="tying-image" alt="Tying ${selectedRakhis.rc.name} for RC"/>
            </div>
            <p style="color: #2196f3; font-weight: bold;">RC is ready for some sibling love! üíô</p>
          </div>
          <div class="result-section rs-result">
            <h3>RS's Rakhi</h3>
            <img src="${selectedRakhis.rs.element.src}" />
            <div>
              <img src="${rsTyingImage}" class="tying-image" alt="Tying ${selectedRakhis.rs.name} for RS"/>
            </div>
            <p style="color: #ff9800; font-weight: bold;">RS is all set for the celebration! üß°</p>
          </div>
        </div>
        <div style="text-align: center; margin-top: 2rem;">
          <p style="color: #e91e63; font-size: 1.4rem; font-weight: bold;">Happy Raksha Bandhan! ‚ú®</p>
          <p style="color: #8e24aa;">Even from miles away, bonds remain strong! üíõ</p>
          <button class="reveal-btn" onclick="playAgain()">Play Again! üîÑ</button>
          <div id="revealConfirm1" style="margin-top: 1rem;">
            <button class="reveal-btn" onclick="showRevealConfirm2()">Reveal All Answers üßê</button>
          </div>
          <div id="revealConfirm2" style="display:none;">
            <p>üôÑ You sure you want to reveal the answers?</p>
            <button class="reveal-btn" onclick="showRevealConfirm3()">Yes</button>
            <button class="reveal-btn" onclick="cancelReveal()">No</button>
          </div>
          <div id="revealConfirm3" style="display:none;">
            <p>üò§ Are you really sure that you want to spoil it?</p>
            <button class="reveal-btn" onclick="showRevealConfirm4()">Yes</button>
            <button class="reveal-btn" onclick="cancelReveal()">No</button>
          </div>
          <div id="revealConfirm4" style="display:none;">
            <p>üò© Come on! play again and get it right!</p>
            <button class="reveal-btn" onclick="revealAnswersFinal()">Nope, Reveal Them!</button>
            <button class="reveal-btn" onclick="playAgain()">Fine, I'll guess again üîÑ</button>
          </div>
          <div id="finalAnswerReveal" style="display: none; margin-top: 2rem;"></div>
        </div>
      `;

      // Show the final slide
      finalSlide.classList.add('active');

      // Optional: Confetti explosion
      for(let i = 0; i < 50; i++) {
        setTimeout(() => createConfetti(), i * 100);
      }
    }

    function createConfetti() {
      const colors = ['#ff4081', '#e91e63', '#ffeb3b', '#4caf50', '#2196f3', '#ff9800'];
      for (let i = 0; i < 20; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 2 + 's';
        document.body.appendChild(confetti);

        setTimeout(() => confetti.remove(), 3000);
      }
    }

    function createSparkles(element) {
      const rect = element.getBoundingClientRect();
      for (let i = 0; i < 10; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = rect.left + Math.random() * rect.width + 'px';
        sparkle.style.top = rect.top + Math.random() * rect.height + 'px';
        document.body.appendChild(sparkle);

        setTimeout(() => sparkle.remove(), 2000);
      }
    }

    function createEmojiBurst(...emojis) {
      emojis.forEach((emoji, index) => {
        const burst = document.createElement('div');
        burst.className = 'emoji-burst';
        burst.innerHTML = emoji;
        burst.style.left = Math.random() * 100 + '%';
        burst.style.top = Math.random() * 50 + '%';
        burst.style.animationDelay = index * 0.2 + 's';
        document.body.appendChild(burst);

        setTimeout(() => burst.remove(), 2000);
      });
    }

    function skipToNext(currentId, nextId) {
      // Hide current question without checking answer
      document.getElementById(currentId).classList.remove('active');

      // Show next question
      if (nextId === 'rakhi') {
        showQuestion(nextId, 11);
      } else {
        let num = parseInt(nextId.replace('q', ''));
        showQuestion(nextId, num);
      }

      createEmojiBurst('‚è≠Ô∏è', 'üí®', 'üéØ');
    }

    function skipToEnd() {
      // Hide current question
      document.querySelectorAll('.question.active').forEach(q => q.classList.remove('active'));

      // Show rakhi selection
      showQuestion('rakhi', 11);
      createEmojiBurst('üöÄ', 'üí®', '‚ö°');
    }

    function showRevealConfirm2() {
      document.getElementById('revealConfirm1').style.display = 'none';
      document.getElementById('revealConfirm2').style.display = 'block';
    }

    function showRevealConfirm3() {
      document.getElementById('revealConfirm2').style.display = 'none';
      document.getElementById('revealConfirm3').style.display = 'block';
    }

    function showRevealConfirm4() {
      document.getElementById('revealConfirm3').style.display = 'none';
      document.getElementById('revealConfirm4').style.display = 'block';
    }

    function cancelReveal() {
      document.getElementById('revealConfirm1').style.display = 'block';
      document.getElementById('revealConfirm2').style.display = 'none';
      document.getElementById('revealConfirm3').style.display = 'none';
      document.getElementById('revealConfirm4').style.display = 'none';
    }

    function revealAnswersFinal() {
      const finalContainer = document.getElementById('finalAnswerReveal');
      let answersHTML = '<div class="answers-list"><h3 style="text-align: center; color: #e91e63;">üéØ All Correct Answers! üéØ</h3>';

      Object.keys(correctAnswers).forEach(questionId => {
        const questionText = questionTexts[questionId];
        const rcAnswers = correctAnswers[questionId]['rc'];
        const rsAnswers = correctAnswers[questionId]['rs'];

        answersHTML += `
          <div class="answer-item">
            <h4>${questionText}</h4>
            <div class="dual-answers">
              <div class="answer-section rc-answers">
                <p><strong>RC:</strong> ${rcAnswers.join(', ')}</p>
              </div>
              <div class="answer-section rs-answers">
                <p><strong>RS:</strong> ${rsAnswers.join(', ')}</p>
              </div>
            </div>
          </div>
        `;
      });

      answersHTML += '</div>';
      finalContainer.innerHTML = answersHTML;
      finalContainer.style.display = 'block';

      // Hide confirm buttons
      document.getElementById('revealConfirm4').style.display = 'none';
    }

    function playAgain() {
      // Reset the quiz
      location.reload();
    }

    // Auto-create ambient sparkles
    setInterval(() => {
      if (Math.random() > 0.7) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = Math.random() * 100 + '%';
        sparkle.style.top = Math.random() * 100 + '%';
        sparkle.style.animationDuration = (Math.random() * 2 + 1) + 's';
        document.body.appendChild(sparkle);

        setTimeout(() => sparkle.remove(), 2000);
      }
    }, 1000);
  </script>
</body>

</html>
